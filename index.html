<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="ie=edge" http-equiv="x-ua-compatible">
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <meta content="initial-scale=1" name="viewport">
  <meta name="Leaflet" content="Leaflet">
  <title>MesseMap | Frame a special place for you and download it, or make a print of it !</title>
  <link rel="icon" href="https://raw.githubusercontent.com/MesseBasseProduction/messe-basse-production.com/master/assets/img/logo.png" type="image/png" sizes="32x32">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-search@3.0.2/dist/leaflet-search.min.css" crossorigin="" />
  <link rel="stylesheet" type="text/css" href="./assets/dist/MesseMap.bundle.css">
  <!-- Matomo analytics https://matomo.org/ -->
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//matomo.mycozy.space/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '37']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
</head>
<body class="light-theme">
  <div class="app-wrapper">
    <!-- Customization and export aside -->
    <aside>
      <header>
        <h1 class="title">{{TITLE}}</h1>
      </header>
      <hr>
      <section id="scrollable-aside">
        <div class="aside-content-wrapper">
          <p class="aside-helper">{{HELPER}}</p>
          <h1 id="toggle-orientation" data-id="toggle-orientation-container">{{ORIENTATION}}<span data-id="toggle-orientation-container" class="toggle">▲</span></h1>
          <div id="toggle-orientation-container" class="orientation-container category expanded">
            <span class="click-item selected" data-orientation="vertical">{{VERTICAL}}</span>
            <span class="click-item" data-orientation="horizontal">{{HORIZONTAL}}</span>
          </div>
          <h1 id="toggle-style" data-id="toggle-style-container">{{STYLE}}<span data-id="toggle-style-container" class="toggle">▲</span></h1>
          <div id="toggle-style-container" class="style-container category expanded">
            <label for="dark-theme">{{MAP_STYLE}}</label>
            <div id="map-style" class="map-style">
              <span class="click-item selected" data-style="standard">{{STYLE_STD}}</span>
              <span class="click-item" data-style="travel">{{STYLE_TRAVEL}}</span>
              <span class="click-item" data-style="frame">{{STYLE_FRAME}}</span>
              <span class="click-item" data-style="pure">{{STYLE_PURE}}</span>
              <span class="click-item" data-style="tone">{{STYLE_PANTONE}}</span>
              <span class="click-item" data-style="map">{{STYLE_MAP}}</span>
              <span class="click-item" data-style="window">{{STYLE_WINDOW}}</span>
              <span class="click-item" data-style="air">{{STYLE_AIR}}</span>
              <span class="click-item" data-style="hipster">{{STYLE_HIPSTER}}</span>
            </div>
            <div class="dark-theme-wrapper">
              <label for="dark-theme">{{DARK_THEME}}</label>
              <div class="theme-input-holder">
                <div id="theme-editor" class="theme-editor">
                  <img src="./assets/img/option.svg" alt="theme-editor-option">
                </div>
                <input type="checkbox" id="dark-theme" class="switch">
              </div>
            </div>
            <div class="txt-position-wrapper">
              <label for="txt-position">{{UP_TEXT}}</label>
              <input type="checkbox" id="txt-position" class="switch">
            </div>    
          </div>
          <h1 id="toggle-texts" data-id="toggle-texts-container">{{TEXT}}<span data-id="toggle-texts-container" class="toggle">▲</span></h1>
          <div id="toggle-texts-container" class="texts-container category expanded">
            <label for="user-title">{{MAP_TITLE}}</label>
            <div class="input-with-color">
              <input id="user-title" type="text" value="Messe Basse" placeholder="{{MAP_TITLE_PLACEHOLDER}}" maxlength="32">
              <input type="color" id="title-color" class="text-edit" data-type="title">
            </div>
            <label for="user-subtitle">{{MAP_SUBTITLE}}</label>
            <div class="input-with-color">
              <input id="user-subtitle" type="text" value="France" placeholder="{{MAP_SUBTITLE_PLACEHOLDER}}" maxlength="32">
              <input type="color" id="subtitle-color" class="text-edit" data-type="subtitle">
            </div>
            <label for="user-comment">{{MAP_COMMENT}}</label>
            <div class="input-with-color">
              <input id="user-comment" type="text" value="44.797°N / 1.542°E" placeholder="{{MAP_COMMENT_PLACEHOLDER}}" maxlength="42">
              <input type="color" id="comment-color" class="text-edit" data-type="comment">
            </div>
          </div>
          <h1 id="toggle-export" data-id="toggle-export-container">{{EXPORT}}<span data-id="toggle-export-container" class="toggle">▲</span></h1>
          <div id="toggle-export-container" class="export-container category expanded">
            <!-- https://fr.wikipedia.org/wiki/Point_par_pouce -->
            <label for="image-width" id="image-width-label">{{EXPORT_DIMENSION}} : 600 x 848 — A7 {{EXPORT_AT}} 300dpi</label>
            <input type="range" id="image-width" name="width" min="600" max="6500" value="600" data-height="848">
            <div id="size-container" class="size-container">
              <span class="click-item selected" data-size="A7">A7</span>
              <span class="click-item" data-size="A6">A6</span>
              <span class="click-item" data-size="A5">A5</span>
              <span class="click-item" data-size="A4">A4</span>
              <span class="click-item" data-size="A3">A3</span>
              <span class="click-item" data-size="A2">A2</span>
            </div>
            <fieldset id="image-type">
              <legend>{{EXPORT_FORMAT}}</legend>
              <div>
                <input type="radio" id="png" name="image-type" data-type="png" data-extension="png" checked>
                <label for="png">.png</label>
              </div>
              <div>
                <input type="radio" id="jpg" name="image-type" data-type="jpeg" data-extension="jpg">
                <label for="jpg">.jpg</label>
              </div>
              <div>
                <input type="radio" id="webp" name="image-type" data-type="webp" data-extension="webp">
                <label for="webp">.webp</label>
              </div>
              <div>
                <input type="radio" id="pdf" name="image-type" data-type="pdf" data-extension="pdf">
                <label for="pdf">.pdf</label>
              </div>
            </fieldset>
          </div>
        </div>
      </section>
      <hr>
      <footer>
        <button id="map-save">{{EXPORT_BUTTON}}</button>
        <a href="https://messe-basse-production.com" target="_blank" rel="noopener noreferer">Messe Basse Production</a>
        <p id="credit-modal" class="credit-link">2022 / 2023 – {{CREDITS}}</p>
      </footer>
    </aside>
    <!-- Map view controls and poster -->
    <main>
      <div id="map-output" class="map-container shadow standard-style vertical">
        <div id="map" class="map"></div>
        <div class="user-text-wrapper">
          <h1 id="title"></h1>
          <h3><span class="before"></span><span id="subtitle" class="subtitle"></span><span class="after"></span></h3>
          <p id="comment"></p>
        </div>
      </div>
    </main>
  </div>
  <!-- App overlay for modal and loading invite -->
  <div id="modal-overlay" class="modal-overlay"></div>
  <div id="print-overlay" class="print-overlay">
    <h1>MesseMap</h1>
    <p><a href="messe-basse-production.com" target="_blank" rel="noopener noreferer">messe-basse-production.com</a></p>
    <p id="print-status"></p>
    <div id="print-progress" class="progress"></div>
  </div>
  <!-- Leaflet script and plugins -->
  <script src="https://unpkg.com/leaflet@latest/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-search@3.0.2/dist/leaflet-search.min.js" crossorigin=""></script>
  <!-- html2canvas script to allow map exporting -->
  <script type="text/javascript" src="./assets/lib/html2canvas.min.js"></script>
  <!-- jsPDF script to create 'ready to print' images -->
  <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
  <!-- Then load MesseMap Js bundle -->
  <script type="text/javascript" src="./assets/dist/MesseMap.bundle.js"></script>
  <!-- Finally, start MesseMap instance -->
  <script type="text/javascript">
    window.MesseMap = new MesseMap();
  </script>
</body>
</html>
